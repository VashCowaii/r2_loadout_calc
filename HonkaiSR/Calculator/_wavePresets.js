const vashWavePresets = {
    "Glorp-ard": [[{"image":null,"entry":null,"name":"Glorp Elite","lvl":95,"hpBars":1,"toughnessBars":1,"stats":[0,95,395960000,0,0,0,718,0,0,0,1150,0,0,132,0,0,0,0,0,0,0,0,0.3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,100,0,0,0,0,0,0,0,0,0,0.2,0,0,0,0,0,0,0,0.2,0,0.2,0,0.2,0,0,0,1,0,1,0,1,0,0],"enemyTypeAttack":"Single Target","enemyType":"elite","weaknessOverrides":{"Lightning":true,"Wind":true,"Quantum":true},"resistantTo":{},"finalStats":{"ATKBaseFinal":718,"ATKBonusPercent":0,"ATKBonusFlat":0,"ATKFinal":718,"HPBaseFinal":395960000,"HPBonusPercent":0,"HPBonusFlat":0,"HPFinal":395960000,"DEFBaseFinal":1150,"DEFBonusPercent":0,"DEFBonusFlat":0,"DEFFinal":1150,"SPDBaseFinal":132,"SPDBonusPercent":0,"SPDBonusFlat":0,"SPDFinal":132,"SPDActionValue":75.75757575757575,"CritRateFinal":0,"CritDamageFinal":0}},{"image":null,"entry":null,"name":"Glorp-ard","lvl":95,"hpBars":1,"toughnessBars":1,"stats":[0,95,400000000,0,0,0,718,0,0,0,1150,0,0,158,0,0,0,0,0,0,0,0,0.4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,140,0,0,0,0,0,0,0,0,0,0.2,0,0.2,0,0,0,0,0,0.2,0,0,0,0.2,0,0,0,1,1,0,0,1,0,0],"enemyTypeAttack":"AoE","enemyType":"boss","weaknessOverrides":{"Fire":true,"Lightning":true,"Wind":true},"resistantTo":{},"finalStats":{"ATKBaseFinal":718,"ATKBonusPercent":0,"ATKBonusFlat":0,"ATKFinal":718,"HPBaseFinal":400000000,"HPBonusPercent":0,"HPBonusFlat":0,"HPFinal":400000000,"DEFBaseFinal":1150,"DEFBonusPercent":0,"DEFBonusFlat":0,"DEFFinal":1150,"SPDBaseFinal":158,"SPDBonusPercent":0,"SPDBonusFlat":0,"SPDFinal":158,"SPDActionValue":63.29113924050633,"CritRateFinal":0,"CritDamageFinal":0}},{"image":null,"entry":null,"name":"Glorp Elite","lvl":95,"hpBars":1,"toughnessBars":1,"stats":[0,95,395960000,0,0,0,718,0,0,0,1150,0,0,132,0,0,0,0,0,0,0,0,0.3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,100,0,0,0,0,0,0,0,0,0,0.2,0,0,0,0,0,0,0,0.2,0,0.2,0,0.2,0,0,0,1,0,1,0,1,0,0],"enemyTypeAttack":"Single Target","enemyType":"elite","weaknessOverrides":{"Lightning":true,"Wind":true,"Quantum":true},"resistantTo":{},"finalStats":{"ATKBaseFinal":718,"ATKBonusPercent":0,"ATKBonusFlat":0,"ATKFinal":718,"HPBaseFinal":395960000,"HPBonusPercent":0,"HPBonusFlat":0,"HPFinal":395960000,"DEFBaseFinal":1150,"DEFBonusPercent":0,"DEFBonusFlat":0,"DEFFinal":1150,"SPDBaseFinal":132,"SPDBonusPercent":0,"SPDBonusFlat":0,"SPDFinal":132,"SPDActionValue":75.75757575757575,"CritRateFinal":0,"CritDamageFinal":0}}]],
    "quantumDoggo": [
        [
            {
                "image": null,
                "entry": null,
                "name": "Gunner Guy",
                "lvl": 66,
                "hpBars": 1,
                "toughnessBars": 1,
                "stats": [
                    0,
                    66,
                    395960,
                    0,
                    0,
                    0,
                    718,
                    0,
                    0,
                    0,
                    860,
                    0,
                    0,
                    91,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0.3,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    30,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    1,
                    1
                ],
                "enemyTypeAttack": "Bounce",
                "enemyType": "minion",
                "weaknessOverrides": {
                    "Physical": true,
                    "Ice": true,
                    "Wind": true
                },
                "resistantTo": {},
                "finalStats": {
                    "ATKBaseFinal": 718,
                    "ATKBonusPercent": 0,
                    "ATKBonusFlat": 0,
                    "ATKFinal": 718,
                    "HPBaseFinal": 395960,
                    "HPBonusPercent": 0,
                    "HPBonusFlat": 0,
                    "HPFinal": 395960,
                    "DEFBaseFinal": 860,
                    "DEFBonusPercent": 0,
                    "DEFBonusFlat": 0,
                    "DEFFinal": 860,
                    "SPDBaseFinal": 91,
                    "SPDBonusPercent": 0,
                    "SPDBonusFlat": 0,
                    "SPDFinal": 91,
                    "SPDActionValue": 109.89010989010988,
                    "CritRateFinal": 0,
                    "CritDamageFinal": 0
                }
            },
            {
                "image": null,
                "entry": null,
                "name": "Quantum Dog",
                "lvl": 66,
                "hpBars": 1,
                "toughnessBars": 1,
                "stats": [
                    0,
                    66,
                    406770,
                    0,
                    0,
                    0,
                    718,
                    0,
                    0,
                    0,
                    860,
                    0,
                    0,
                    130,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0.3,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    30,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0.2,
                    0,
                    0,
                    1,
                    1,
                    0,
                    1,
                    0,
                    0,
                    0
                ],
                "enemyTypeAttack": "Single Target",
                "enemyType": "minion",
                "weaknessOverrides": {
                    "Ice": true,
                    "Lightning": true,
                    "Quantum": true
                },
                "resistantTo": {},
                "finalStats": {
                    "ATKBaseFinal": 718,
                    "ATKBonusPercent": 0,
                    "ATKBonusFlat": 0,
                    "ATKFinal": 718,
                    "HPBaseFinal": 406770,
                    "HPBonusPercent": 0,
                    "HPBonusFlat": 0,
                    "HPFinal": 406770,
                    "DEFBaseFinal": 860,
                    "DEFBonusPercent": 0,
                    "DEFBonusFlat": 0,
                    "DEFFinal": 860,
                    "SPDBaseFinal": 130,
                    "SPDBonusPercent": 0,
                    "SPDBonusFlat": 0,
                    "SPDFinal": 130,
                    "SPDActionValue": 76.92307692307692,
                    "CritRateFinal": 0,
                    "CritDamageFinal": 0
                }
            },
            {
                "image": null,
                "entry": null,
                "name": "Gunner Guy",
                "lvl": 66,
                "hpBars": 1,
                "toughnessBars": 1,
                "stats": [
                    0,
                    66,
                    395960,
                    0,
                    0,
                    0,
                    718,
                    0,
                    0,
                    0,
                    860,
                    0,
                    0,
                    91,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0.3,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    30,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    1,
                    1
                ],
                "enemyTypeAttack": "Bounce",
                "enemyType": "minion",
                "weaknessOverrides": {
                    "Physical": true,
                    "Ice": true,
                    "Wind": true
                },
                "resistantTo": {},
                "finalStats": {
                    "ATKBaseFinal": 718,
                    "ATKBonusPercent": 0,
                    "ATKBonusFlat": 0,
                    "ATKFinal": 718,
                    "HPBaseFinal": 395960,
                    "HPBonusPercent": 0,
                    "HPBonusFlat": 0,
                    "HPFinal": 395960,
                    "DEFBaseFinal": 860,
                    "DEFBonusPercent": 0,
                    "DEFBonusFlat": 0,
                    "DEFFinal": 860,
                    "SPDBaseFinal": 91,
                    "SPDBonusPercent": 0,
                    "SPDBonusFlat": 0,
                    "SPDFinal": 91,
                    "SPDActionValue": 109.89010989010988,
                    "CritRateFinal": 0,
                    "CritDamageFinal": 0
                }
            }
        ],
        [
            {
                "image": null,
                "entry": null,
                "name": "Gunner Guy",
                "lvl": 66,
                "hpBars": 1,
                "toughnessBars": 1,
                "stats": [
                    0,
                    66,
                    395960000,
                    0,
                    0,
                    0,
                    718,
                    0,
                    0,
                    0,
                    860,
                    0,
                    0,
                    91,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0.3,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    30,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    1,
                    1
                ],
                "enemyTypeAttack": "Bounce",
                "enemyType": "minion",
                "weaknessOverrides": {
                    "Physical": true,
                    "Ice": true,
                    "Wind": true
                },
                "resistantTo": {},
                "finalStats": {
                    "ATKBaseFinal": 718,
                    "ATKBonusPercent": 0,
                    "ATKBonusFlat": 0,
                    "ATKFinal": 718,
                    "HPBaseFinal": 395960000,
                    "HPBonusPercent": 0,
                    "HPBonusFlat": 0,
                    "HPFinal": 395960000,
                    "DEFBaseFinal": 860,
                    "DEFBonusPercent": 0,
                    "DEFBonusFlat": 0,
                    "DEFFinal": 860,
                    "SPDBaseFinal": 91,
                    "SPDBonusPercent": 0,
                    "SPDBonusFlat": 0,
                    "SPDFinal": 91,
                    "SPDActionValue": 109.89010989010988,
                    "CritRateFinal": 0,
                    "CritDamageFinal": 0
                }
            },
            {
                "image": null,
                "entry": null,
                "name": "Quantum Dog",
                "lvl": 66,
                "hpBars": 1,
                "toughnessBars": 1,
                "stats": [
                    0,
                    66,
                    406770000,
                    0,
                    0,
                    0,
                    718,
                    0,
                    0,
                    0,
                    860,
                    0,
                    0,
                    130,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0.3,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    30,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0.2,
                    0,
                    0,
                    1,
                    1,
                    0,
                    1,
                    0,
                    0,
                    0
                ],
                "enemyTypeAttack": "Single Target",
                "enemyType": "minion",
                "weaknessOverrides": {
                    "Ice": true,
                    "Lightning": true,
                    "Quantum": true
                },
                "resistantTo": {},
                "finalStats": {
                    "ATKBaseFinal": 718,
                    "ATKBonusPercent": 0,
                    "ATKBonusFlat": 0,
                    "ATKFinal": 718,
                    "HPBaseFinal": 406770000,
                    "HPBonusPercent": 0,
                    "HPBonusFlat": 0,
                    "HPFinal": 406770000,
                    "DEFBaseFinal": 860,
                    "DEFBonusPercent": 0,
                    "DEFBonusFlat": 0,
                    "DEFFinal": 860,
                    "SPDBaseFinal": 130,
                    "SPDBonusPercent": 0,
                    "SPDBonusFlat": 0,
                    "SPDFinal": 130,
                    "SPDActionValue": 76.92307692307692,
                    "CritRateFinal": 0,
                    "CritDamageFinal": 0
                }
            },
            {
                "image": null,
                "entry": null,
                "name": "Gunner Guy",
                "lvl": 66,
                "hpBars": 1,
                "toughnessBars": 1,
                "stats": [
                    0,
                    66,
                    395960000,
                    0,
                    0,
                    0,
                    718,
                    0,
                    0,
                    0,
                    860,
                    0,
                    0,
                    91,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0.3,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    30,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0.2,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    1,
                    1
                ],
                "enemyTypeAttack": "Bounce",
                "enemyType": "minion",
                "weaknessOverrides": {
                    "Physical": true,
                    "Ice": true,
                    "Wind": true
                },
                "resistantTo": {},
                "finalStats": {
                    "ATKBaseFinal": 718,
                    "ATKBonusPercent": 0,
                    "ATKBonusFlat": 0,
                    "ATKFinal": 718,
                    "HPBaseFinal": 395960000,
                    "HPBonusPercent": 0,
                    "HPBonusFlat": 0,
                    "HPFinal": 395960000,
                    "DEFBaseFinal": 860,
                    "DEFBonusPercent": 0,
                    "DEFBonusFlat": 0,
                    "DEFFinal": 860,
                    "SPDBaseFinal": 91,
                    "SPDBonusPercent": 0,
                    "SPDBonusFlat": 0,
                    "SPDFinal": 91,
                    "SPDActionValue": 109.89010989010988,
                    "CritRateFinal": 0,
                    "CritDamageFinal": 0
                }
            }
        ]
    ],
    "MoX6": []
}

// defaultMainSubs: ["ATK%","CritRateBase","CritDamageBase","SPDFlat"], //saber
// defaultMainSubs: ["HP%","CritDamageBase","EffectRES","SPDFlat"], //sunday
// defaultMainSubs: ["ATK%","HP%","EffectRES","SPDFlat"], //robin
// defaultMainSubs: ["ATK%","DEF%","EffectRES","SPDFlat"], //dan




// * getCharacterSubstatIteration(querySettings,desiredStats,charSubsStarter,chestMain,bootMain,orbMain,ropeMain,charSubstatBounds1,charSubstatBounds2,charSubstatBounds3,charSubstatBounds4) {
//     const desired1 = desiredStats[0];
//     const desired2 = desiredStats[1];
//     const desired3 = desiredStats[2];
//     const desired4 = desiredStats[3];

//     //we need to know the total number of mainstat conflicts, PER stat desired
//     const mainstat1Conflicts = (desired1 === chestMain ? 1 : 0) + (desired1 === bootMain ? 1 : 0) + (desired1 === orbMain ? 1 : 0) + (desired1 === ropeMain ? 1 : 0);//desiredSet.has(chestMain);
//     const mainstat2Conflicts = (desired2 === chestMain ? 1 : 0) + (desired2 === bootMain ? 1 : 0) + (desired2 === orbMain ? 1 : 0) + (desired2 === ropeMain ? 1 : 0);//desiredSet.has(bootMain);
//     const mainstat3Conflicts = (desired3 === chestMain ? 1 : 0) + (desired3 === bootMain ? 1 : 0) + (desired3 === orbMain ? 1 : 0) + (desired3 === ropeMain ? 1 : 0);//desiredSet.has(orbMain);
//     const mainstat4Conflicts = (desired4 === chestMain ? 1 : 0) + (desired4 === bootMain ? 1 : 0) + (desired4 === orbMain ? 1 : 0) + (desired4 === ropeMain ? 1 : 0);//desiredSet.has(ropeMain);

//     // defaultMainSubs: ["CritRateBase","CritDamageBase","ATK%","SPDFlat"],
//     // defaultTrashSub: "ATKFlat",

//     const minimumAddedRollPerDesired = querySettings.minimumAddedRoll;
//     const subsPerItem = querySettings.rollsPerRelic - querySettings.failedAddedRolls;
//     const possibleSubs = subsPerItem * 6 - (minimumAddedRollPerDesired * 4);
//     // const usableSubs = possibleSubs - 1;

//     const stat1TotalConflictOffset = mainstat1Conflicts*subsPerItem;
//     const stat2TotalConflictOffset = mainstat2Conflicts*subsPerItem;
//     const stat3TotalConflictOffset = mainstat3Conflicts*subsPerItem;
//     const stat4TotalConflictOffset = mainstat4Conflicts*subsPerItem;

//     const increment = querySettings.rollsPerBundle;

//     // charSubstatBounds1,charSubstatBounds2,charSubstatBounds3,charSubstatBounds4
//     // substat1: [1,30],

//     // const sub1Max = charSubstatBounds1[1];
//     // const sub2Max = charSubstatBounds2[1];
//     // const sub3Max = charSubstatBounds3[1];
//     // const sub4Max = charSubstatBounds4[1];

//     // const sub1Min = charSubstatBounds1[0];
//     // const sub2Min = charSubstatBounds2[0];
//     // const sub3Min = charSubstatBounds3[0];
//     // const sub4Min = charSubstatBounds4[0];

//     // const min = Math.min;
//     // const stat1MaxOffset = possibleSubs - min(possibleSubs,sub1Max);
//     // const stat2MaxOffset = possibleSubs - min(possibleSubs,sub2Max);
//     // const stat3MaxOffset = possibleSubs - min(possibleSubs,sub3Max);
//     // const stat4MaxOffset = possibleSubs - min(possibleSubs,sub4Max);

//     // const stat1StartSubs = min(possibleSubs - stat1TotalConflictOffset,possibleSubs,sub1Max);
//     // for (let stat1i = stat1StartSubs; stat1i >= sub1Min; stat1i -= (stat1i < increment && stat1i>0 ? stat1i : increment)) {
//     //     const remainingSubs1 = stat1StartSubs - stat1i + stat1TotalConflictOffset + stat1MaxOffset;

//     //     const stat2StartSubs = min(possibleSubs - stat2TotalConflictOffset,remainingSubs1,sub2Max);
//     //     for (let stat2i = stat2StartSubs; stat2i >= sub2Min; stat2i -= (stat2i < increment && stat2i>0 ? stat2i : increment)) {
//     //         const remainingSubs2 = stat2StartSubs - stat2i + stat2TotalConflictOffset + stat2MaxOffset;

//     //         const stat3StartSubs = min(possibleSubs - stat3TotalConflictOffset,remainingSubs2,sub3Max);
//     //         for (let stat3i = stat3StartSubs; stat3i >= sub3Min; stat3i -= (stat3i < increment && stat3i>0 ? stat3i : increment)) {
//     //             const remainingSubs3 = stat3StartSubs - stat3i + stat3TotalConflictOffset + stat3MaxOffset;
                
//     //             const stat4StartSubs = min(possibleSubs - stat4TotalConflictOffset,remainingSubs3,sub4Max);
//     //             const remainingSubs4 = stat4TotalConflictOffset + stat4MaxOffset;

//     //             const sumCompare = (stat4StartSubs + stat1i + stat2i + stat3i) > possibleSubs;
//     //             if (sumCompare) {continue;}
//     //             const baseTable = {...charSubsStarter};

//     //             baseTable[desired1] += stat1i;
//     //             baseTable[desired2] += stat2i;
//     //             baseTable[desired3] += stat3i;
//     //             baseTable[desired4] += stat4StartSubs;

//     //             // baseTable[desired1] += stat1i + minimumAddedRollPerDesired;
//     //             // baseTable[desired2] += stat2i + minimumAddedRollPerDesired;
//     //             // baseTable[desired3] += stat3i + minimumAddedRollPerDesired;
//     //             // baseTable[desired4] += stat4StartSubs + minimumAddedRollPerDesired + stat4MaxOffset;
//     //             //TODO: this is omega fuckin cursed, I also dislike needing to spread every time but I'm also unsure if there is actually another way, look at this later

//     //             yield baseTable;
//     //         }
//     //     }
//     // }


//     const stat1StartSubs = Math.min(possibleSubs - stat1TotalConflictOffset,possibleSubs);
//     for (let stat1i = stat1StartSubs; stat1i >= 0; stat1i -= (stat1i < increment && stat1i>0 ? stat1i : increment)) {
//         const remainingSubs1 = stat1StartSubs - stat1i + stat1TotalConflictOffset;

//         const stat2StartSubs = Math.min(possibleSubs - stat2TotalConflictOffset,remainingSubs1);
//         for (let stat2i = stat2StartSubs; stat2i >= 0; stat2i -= (stat2i < increment && stat2i>0 ? stat2i : increment)) {
//             const remainingSubs2 = stat2StartSubs - stat2i + stat2TotalConflictOffset;

//             const stat3StartSubs = Math.min(possibleSubs - stat3TotalConflictOffset,remainingSubs2);
//             for (let stat3i = stat3StartSubs; stat3i >= 0; stat3i -= (stat3i < increment && stat3i>0 ? stat3i : increment)) {
//                 const remainingSubs3 = remainingSubs2 - stat3i + stat3TotalConflictOffset;
                
//                 const stat4StartSubs = Math.min(possibleSubs - stat4TotalConflictOffset,remainingSubs3);
//                 const sumCompare = (stat4StartSubs + stat1i + stat2i + stat3i) > possibleSubs;
//                 if (sumCompare) {continue;}
//                 const baseTable = {...charSubsStarter};

//                 baseTable[desired1] += stat1i + minimumAddedRollPerDesired;
//                 baseTable[desired2] += stat2i + minimumAddedRollPerDesired;
//                 baseTable[desired3] += stat3i + minimumAddedRollPerDesired;
//                 baseTable[desired4] += stat4StartSubs + minimumAddedRollPerDesired;
//                 //TODO: this is omega fuckin cursed, I also dislike needing to spread every time but I'm also unsure if there is actually another way, look at this later

//                 yield baseTable;
//             }
//         }
//     }
// },











// * getCharacterSubstatIteration(querySettings,desiredStats,charSubsStarter,chestMain,bootMain,orbMain,ropeMain,charSubstatBounds1,charSubstatBounds2,charSubstatBounds3,charSubstatBounds4) {
//     const desired1 = desiredStats[0];
//     const desired2 = desiredStats[1];
//     const desired3 = desiredStats[2];
//     const desired4 = desiredStats[3];

//     //we need to know the total number of mainstat conflicts, PER stat desired
//     const mainstat1Conflicts = (desired1 === chestMain ? 1 : 0) + (desired1 === bootMain ? 1 : 0) + (desired1 === orbMain ? 1 : 0) + (desired1 === ropeMain ? 1 : 0);//desiredSet.has(chestMain);
//     const mainstat2Conflicts = (desired2 === chestMain ? 1 : 0) + (desired2 === bootMain ? 1 : 0) + (desired2 === orbMain ? 1 : 0) + (desired2 === ropeMain ? 1 : 0);//desiredSet.has(bootMain);
//     const mainstat3Conflicts = (desired3 === chestMain ? 1 : 0) + (desired3 === bootMain ? 1 : 0) + (desired3 === orbMain ? 1 : 0) + (desired3 === ropeMain ? 1 : 0);//desiredSet.has(orbMain);
//     const mainstat4Conflicts = (desired4 === chestMain ? 1 : 0) + (desired4 === bootMain ? 1 : 0) + (desired4 === orbMain ? 1 : 0) + (desired4 === ropeMain ? 1 : 0);//desiredSet.has(ropeMain);

//     // defaultMainSubs: ["CritRateBase","CritDamageBase","ATK%","SPDFlat"],
//     // defaultTrashSub: "ATKFlat",

//     // const minimumAddedRollPerDesired = querySettings.minimumAddedRoll;
//     const subsPerItem = querySettings.rollsPerRelic - querySettings.failedAddedRolls;
//     const possibleSubs = subsPerItem * 6;// - (minimumAddedRollPerDesired * 4);
//     // const usableSubs = possibleSubs - 1;

//     const stat1TotalConflictOffset = mainstat1Conflicts*subsPerItem;
//     const stat2TotalConflictOffset = mainstat2Conflicts*subsPerItem;
//     const stat3TotalConflictOffset = mainstat3Conflicts*subsPerItem;
//     const stat4TotalConflictOffset = mainstat4Conflicts*subsPerItem;

//     const sub1Max = charSubstatBounds1[1];
//     const sub2Max = charSubstatBounds2[1];
//     const sub3Max = charSubstatBounds3[1];
//     const sub4Max = charSubstatBounds4[1];

//     const sub1Min = charSubstatBounds1[0];
//     const sub2Min = charSubstatBounds2[0];
//     const sub3Min = charSubstatBounds3[0];
//     const sub4Min = charSubstatBounds4[0];

    

//     const min = Math.min;
//     const stat1MaxOffset = possibleSubs - min(possibleSubs,sub1Max);
//     const stat2MaxOffset = possibleSubs - min(possibleSubs,sub2Max);
//     const stat3MaxOffset = possibleSubs - min(possibleSubs,sub3Max);
//     const stat4MaxOffset = possibleSubs - min(possibleSubs,sub4Max);

//     // console.log("max",sub1Max,sub2Max,sub3Max,sub4Max)
//     // console.log("min",sub1Min,sub2Min,sub3Min,sub4Min)
//     // console.log("offset",stat1MaxOffset,stat2MaxOffset,stat3MaxOffset,stat4MaxOffset)

//     const substatsConflictSort = [
//         {statName: desired1, conflictCount: mainstat1Conflicts, conflictOffset: stat1TotalConflictOffset, min: sub1Min, max: sub1Max, maxOffset: stat1MaxOffset},
//         {statName: desired2, conflictCount: mainstat2Conflicts, conflictOffset: stat2TotalConflictOffset, min: sub2Min, max: sub2Max, maxOffset: stat2MaxOffset},
//         {statName: desired3, conflictCount: mainstat3Conflicts, conflictOffset: stat3TotalConflictOffset, min: sub3Min, max: sub3Max, maxOffset: stat3MaxOffset},
//         {statName: desired4, conflictCount: mainstat4Conflicts, conflictOffset: stat4TotalConflictOffset, min: sub4Min, max: sub4Max, maxOffset: stat4MaxOffset}
//     ].sort(compare.sortByConflics);

//     const increment = querySettings.rollsPerBundle;
    

//     const sortedEntry1 = substatsConflictSort[0];
//     const sortedEntry2 = substatsConflictSort[1];
//     const sortedEntry3 = substatsConflictSort[2];
//     const sortedEntry4 = substatsConflictSort[3];

//     const stat1StartSubs = min(possibleSubs - sortedEntry1.conflictOffset,possibleSubs,sortedEntry1.max);
//     for (let stat1i = stat1StartSubs; stat1i >= sortedEntry1.min; stat1i -= (stat1i < increment && stat1i>0 ? stat1i : increment)) {
//         const remainingSubs1 = stat1StartSubs - stat1i + sortedEntry1.conflictOffset + sortedEntry1.maxOffset;

//         const stat2StartSubs = min(possibleSubs - sortedEntry2.conflictOffset,remainingSubs1,sortedEntry2.max);
//         for (let stat2i = stat2StartSubs; stat2i >= sortedEntry2.min; stat2i -= (stat2i < increment && stat2i>0 ? stat2i : increment)) {
//             const remainingSubs2 = stat2StartSubs - stat2i + sortedEntry2.conflictOffset + sortedEntry2.maxOffset;

//             const stat3StartSubs = min(possibleSubs - sortedEntry3.conflictOffset,remainingSubs2,sortedEntry3.max);
//             for (let stat3i = stat3StartSubs; stat3i >= sortedEntry3.min; stat3i -= (stat3i < increment && stat3i>0 ? stat3i : increment)) {
//                 const remainingSubs3 = stat3StartSubs - stat3i + sortedEntry3.conflictOffset + sortedEntry3.maxOffset;
                
//                 const stat4StartSubs = min(possibleSubs - sortedEntry4.conflictOffset,remainingSubs3,sortedEntry4.max);
//                 // console.log(stat4StartSubs + stat1i + stat2i + stat3i,stat4StartSubs,stat1i,stat2i,stat3i)
//                 const sumCompare = (stat4StartSubs + stat1i + stat2i + stat3i) > possibleSubs;
//                 if (sumCompare) {continue;}
//                 const baseTable = {...charSubsStarter};

//                 baseTable[sortedEntry1.statName] += stat1i;
//                 baseTable[sortedEntry2.statName] += stat2i;
//                 baseTable[sortedEntry3.statName] += stat3i;
//                 baseTable[sortedEntry4.statName] += stat4StartSubs;
//                 //TODO: this is omega fuckin cursed, I also dislike needing to spread every time but I'm also unsure if there is actually another way, look at this later

//                 yield baseTable;
//             }
//         }
//     }
// },